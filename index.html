<!DOCTYPE html>
<html>
<head>
<title>todo</title>

<style>
body{
font-family:arial;
background: wheat;
}

#box{
width:90%;
margin:auto;
background:white;
padding:20px;
}

table{
width:100%;
border-collapse:collapse;
margin-top:20px;
}

th,td{
padding:8px;
text-align:center;
}

.green{
background:lightgreen;
}

.red{
background:pink;
}

button{
padding:5px 10px;
margin:5px;
cursor:pointer;
}
</style>

</head>
<body>

<div id="box">

<h2>Todo Data</h2>

<button onclick="getall()">All</button>
<button onclick="getdone()">Completed</button>
<button onclick="getnot()">Uncompleted</button>

<table border="1" id="t1">
<tr>
<th>ID</th>
<th>Title</th>
<th>Status</th>
<th>Action</th>
</tr>
</table>

</div>

<script>
var data1 = [];
var temp = [];

fetch("https://jsonplaceholder.typicode.com/todos")
.then(function(a){
return a.json();
})
.then(function(b){
data1 = b;
temp = b;
showdata(data1);
});

function showdata(x){

var t = document.getElementById("t1");

t.innerHTML = "<tr><th>ID</th><th>Title</th><th>Status</th><th>Action</th></tr>";

for(var i=0;i<x.length;i++){

var r = document.createElement("tr");

if(x[i].completed == true){
r.className = "green";
}
else{
r.className = "red";
}

var c1 = document.createElement("td");
c1.innerHTML = x[i].id;

var c2 = document.createElement("td");
c2.innerHTML = x[i].title;

var c3 = document.createElement("td");

if(x[i].completed == true){
c3.innerHTML = "Completed";
}
else{
c3.innerHTML = "Not Completed";
}

var c4 = document.createElement("td");

var b = document.createElement("button");
b.innerHTML = "Change";

b.onclick = function(){

if(x[i].completed == true){
x[i].completed = false;
}
else{
x[i].completed = true;
}

showdata(temp);
};

c4.appendChild(b);

r.appendChild(c1);
r.appendChild(c2);
r.appendChild(c3);
r.appendChild(c4);

t.appendChild(r);

}

}

function getdone(){

var arr = [];

for(var i=0;i<data1.length;i++){

if(data1[i].completed == true){
arr.push(data1[i]);
}
else{
}
}

showdata(arr);
}

function getnot(){

var arr = [];

for(var i=0;i<data1.length;i++){

if(data1[i].completed == false){
arr.push(data1[i]);
}
else{
}
}

showdata(arr);
}

function getall(){
showdata(data1);
}
</script>

</body>
</html>
